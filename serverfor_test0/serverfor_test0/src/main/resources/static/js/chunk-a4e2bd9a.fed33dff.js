(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a4e2bd9a"],{1511:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[t("div",{ref:"mapContainer",staticClass:"map-container"})])},a=[],o={data(){return{map:null,segments:[],colors:["blue","red","black","green","orange","purple","yellow","cyan","magenta"]}},mounted(){this.fetchSegments()},methods:{fetchSegments(){fetch("http://106.53.27.81:8089/tracks").then(e=>e.json()).then(e=>{this.segments=e.segments,this.initMap(),this.drawSegments()}).catch(e=>{console.error("获取线段数据时出错:",e)})},initMap(){this.map=new BMap.Map(this.$refs.mapContainer);const e=new BMap.Point(this.segments[0].points[0].lng,this.segments[0].points[0].lat);this.map.centerAndZoom(e,15),this.map.enableScrollWheelZoom()},drawSegments(){this.segments.forEach(e=>{const t=this.colors[e.segmentId-1],n=e.points.map(e=>new BMap.Point(e.lng,e.lat)),s=new BMap.Polyline(n,{strokeColor:t,strokeWeight:6,strokeOpacity:1});this.map.addOverlay(s),this.map.setViewport(n);const a=e.points[e.points.length-1],o=new BMap.Marker(new BMap.Point(a.lng,a.lat)),i=new BMap.Label(e.segmentId.toString(),{offset:new BMap.Size(20,-10)});o.setLabel(i),this.map.addOverlay(o)})}}},i=o,r=(n("f539"),n("2877")),p=Object(r["a"])(i,s,a,!1,null,null,null);t["default"]=p.exports},d9e3:function(e,t,n){},f539:function(e,t,n){"use strict";n("d9e3")}}]);
//# sourceMappingURL=chunk-a4e2bd9a.fed33dff.js.map